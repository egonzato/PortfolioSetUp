---
const { selectedP = [] } = Astro.props
import { template } from '@/settings'
---

<section class="py-12 border-t">
  <h2 class="text-4xl font-bold mb-4 text-blue-900">Selected Publications</h2>
  <ul class="space-y-10">
    {selectedP.map(({ image, contentHtml }, index) => (
      <li class="grid grid-cols-[150px_1fr] gap-8">
        <div>
          <img 
            src={`${template.base}${image}`} 
            alt="Time varying exposure" 
            class="max-w-[150px] h-auto cursor-zoom-in hover:scale-105 transition-transform duration-200"
            onClick={`document.getElementById('zoom-img-${index}').classList.remove('hidden')`}
          />
        </div>
        <div class="text-lg mb-6 font-sans" set:html={contentHtml} />

        <!-- Modal zoom -->
        <div 
          id={`zoom-img-${index}`} 
          class="fixed inset-0 bg-black bg-opacity-80 hidden z-50 flex items-center justify-center"
          onClick={`this.classList.add('hidden')`}
        >
          <img 
            src={`${template.base}${image}`} 
            alt="Zoomed publication" 
            class="max-w-[90vw] max-h-[90vh] rounded-lg shadow-xl"
          />
        </div>
      </li>
    ))}
  </ul>
</section>
